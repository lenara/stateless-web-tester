<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
		<link rel="stylesheet" href="styles.css">
  </head>
	<body class="container-fluid">
		<div class="header">
			<div class="row">
				<div class="logo col">
					<img src="assets/logo.png" class="float-start mt-1"/>
				</div><!-- logo -->
				<div class="nav-top col-sm-auto mt-2 d-none d-sm-block">
					<nav class="nav">
						<a class="nav-link mx-1" href="#"><img src="assets/1x_idle.png"></a>
						<a class="nav-link mx-1" href="#"><img src="assets/call_new_selection.png"></a>
						<a class="nav-link mx-1" href="#"><img src="assets/4x_active.png"></a>
					</nav>
				</div><!-- nav-top -->
				<div class="help col">
					<img src="assets/help.png" class="float-end mt-2"/>
				</div><!-- help -->
			</div><!-- row -->
		</div><!-- header -->
		<div class="main text-center">
			<div class="row">
				<!-- <div class="col&#45;3"></div> -->
				<div class="col-6 offset-3 mt-5">
					<h1>Distrotron Payment Demo</h1>
					<div id="near-disconnected" class="my-3">
						<!-- connect button -->
						<button type="button" onclick="utils.signIn()" class="btn btn-outline-dark">Connect to NEAR</button>
					</div><!-- near-disconnected -->
					<div id="near-connected" class="my-3">
						<!-- login info, disconnect button -->
						<h5>Connected as <span id="accountName"></span>: <span id="accountBalance"></span> Ⓝ</h5>
						<button type="button" onclick="utils.signOut()" class="btn btn-outline-dark">Disconnect</button> 
						<!-- minter contract form -->
						<form id="minter-form" class="my-5">
							<fieldset>
								<hr/>
								<div class="mb-3">
									<label for="minter-contract" class="form-label">Name of minter contract:</label>
									<!-- todo: form validation for NEAR account names -->
									<input type="text" class="form-control" id="minter-contract" aria-describedby="minter-help" required>
									<div id="minter-help" class="form-text">Enter the Mintbase contract with the list of minters to pay.</div>
								</div>
								<button type="submit" class="btn btn-outline-dark">Check</button>
							</fieldset>
						</form>
						<!-- report area -->
						<div id="minter-report">
							<div class="alert alert-success d-none" role="alert"></div>
							<div class="alert alert-warning d-none" role="alert"></div>
							<!-- test: contract exists, has a minters list that is not empty -->
							<!-- test: all minters in the list exist? -->
						</div>
						<!-- payment form -->
						<form id="payment-form" class="my-5">
							<fieldset>
								<hr/>
								<div class="mb-3">
									<label for="total-payment" class="form-label">Total Ⓝ to distibute:</label>
									<!-- todo: form validation for NEAR amounts -->
									<!-- todo: form validation: don't exceed wallet contents -->
									<input type="number" min="0.000000000001" class="form-control" id="total-payment" aria-describedby="payment-help" required>
									<div id="payment-help" class="form-text">Enter an amount to divide equally between the minters.</div>
								</div>
								<button type="submit" class="btn btn-outline-dark">Pay</button>
							</fieldset>
						</form>
						<!-- report area -->
						<div id="payment-report">
							<div class="alert alert-success d-none" role="alert"></div>
							<div class="alert alert-warning d-none" role="alert"></div>
							<!-- report: any complications? -->
							<!-- report: how much paid to each minter -->
							<!-- report: total gas cost -->
						</div>
						<div id="tx-success">
							<hr/>
							<h2>Transaction Successful!</h2>
							<a id="tx-hash-btn" class="btn btn-outline-success">View Transaction Details</a> 
							<button id="start-over-btn" type="button" class="btn btn-outline-dark">Make Another Payment</button> 
						</div>
					</div><!-- near-connected -->
				</div><!-- col -->
			</div><!-- row -->
		</div><!-- main -->
		<div class="footer">
			<div class="row">
				<div class="col"></div>
				<div class="nav-btm col-auto mt-2 mb-4 d-block d-sm-none">
					<nav class="nav">
						<a class="nav-link mx-1" href="#"><img src="assets/1x_idle.png"></a>
						<a class="nav-link mx-1" href="#"><img src="assets/call_new_selection.png"></a>
						<a class="nav-link mx-1" href="#"><img src="assets/4x_active.png"></a>
					</nav>
				</div><!-- nav -->
				<div class="col"></div>
			</div>
		</div><!--footer-->
	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
	<script src="distrodemo.js" type="module"></script>
</body>
</html>
